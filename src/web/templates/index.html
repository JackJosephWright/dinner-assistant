{% extends "base.html" %}

{% block title %}Home - Meal Planning Assistant{% endblock %}

{% block content %}
<div class="px-4 py-6 sm:px-0">
    <!-- Hero Section -->
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-900 sm:text-5xl md:text-6xl">
            <i class="fas fa-utensils text-indigo-600"></i>
            <br>
            Meal Planning Made Easy
        </h1>
        <p class="mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
            Plan your weekly meals, generate shopping lists, and get cooking guides—all powered by AI.
        </p>
    </div>

    <!-- Feature Cards -->
    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 mb-12">
        <!-- Plan Meals Card -->
        <div class="bg-white overflow-hidden shadow-lg rounded-lg hover:shadow-xl transition-shadow">
            <div class="p-6">
                <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white mx-auto">
                    <i class="fas fa-calendar-alt fa-2x"></i>
                </div>
                <h3 class="mt-4 text-lg font-medium text-gray-900 text-center">Plan Meals</h3>
                <p class="mt-2 text-base text-gray-500 text-center">
                    {% if is_agentic %}
                    AI generates personalized meal plans based on your preferences and history.
                    {% else %}
                    Generate balanced meal plans from 492K+ recipes.
                    {% endif %}
                </p>
                <div class="mt-6">
                    <a href="/plan" class="w-full flex items-center justify-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
                        Start Planning <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Shopping List Card -->
        <div class="bg-white overflow-hidden shadow-lg rounded-lg hover:shadow-xl transition-shadow">
            <div class="p-6">
                <div class="flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white mx-auto">
                    <i class="fas fa-shopping-cart fa-2x"></i>
                </div>
                <h3 class="mt-4 text-lg font-medium text-gray-900 text-center">Shopping List</h3>
                <p class="mt-2 text-base text-gray-500 text-center">
                    {% if is_agentic %}
                    AI consolidates ingredients intelligently, organized by store section.
                    {% else %}
                    Auto-generated shopping lists organized by store section.
                    {% endif %}
                </p>
                <div class="mt-6">
                    <a href="/shop" class="w-full flex items-center justify-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-green-600 hover:bg-green-700">
                        View List <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Cooking Guide Card -->
        <div class="bg-white overflow-hidden shadow-lg rounded-lg hover:shadow-xl transition-shadow">
            <div class="p-6">
                <div class="flex items-center justify-center h-12 w-12 rounded-md bg-orange-500 text-white mx-auto">
                    <i class="fas fa-fire fa-2x"></i>
                </div>
                <h3 class="mt-4 text-lg font-medium text-gray-900 text-center">Cooking Guide</h3>
                <p class="mt-2 text-base text-gray-500 text-center">
                    {% if is_agentic %}
                    AI-powered step-by-step instructions with tips and substitutions.
                    {% else %}
                    Step-by-step cooking instructions for any recipe.
                    {% endif %}
                </p>
                <div class="mt-6">
                    <a href="/cook" class="w-full flex items-center justify-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700">
                        Start Cooking <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Stats Section -->
    <div class="bg-white shadow-lg rounded-lg p-8 mb-12">
        <h2 class="text-2xl font-bold text-gray-900 text-center mb-6">
            <i class="fas fa-chart-bar text-indigo-600"></i> Recipe Database
        </h2>
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-3">
            <div class="text-center">
                <div class="text-3xl font-bold text-indigo-600">492,630</div>
                <div class="text-sm text-gray-500 mt-1">Total Recipes</div>
            </div>
            <div class="text-center">
                <div class="text-3xl font-bold text-green-600">100+</div>
                <div class="text-sm text-gray-500 mt-1">Cuisines</div>
            </div>
            <div class="text-center">
                <div class="text-3xl font-bold text-orange-600">
                    {% if is_agentic %}
                    <i class="fas fa-robot"></i> AI
                    {% else %}
                    Smart
                    {% endif %}
                </div>
                <div class="text-sm text-gray-500 mt-1">
                    {% if is_agentic %}
                    AI-Powered Planning
                    {% else %}
                    Algorithm-Based
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- How It Works -->
    <div class="bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg rounded-lg p-8 text-white">
        <h2 class="text-2xl font-bold text-center mb-6">
            <i class="fas fa-lightbulb"></i> How It Works
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="text-center">
                <div class="text-4xl mb-3">1️⃣</div>
                <h3 class="font-semibold mb-2">Plan Your Week</h3>
                <p class="text-sm opacity-90">
                    {% if is_agentic %}
                    AI analyzes your preferences and suggests diverse, balanced meals.
                    {% else %}
                    Select from thousands of recipes to build your meal plan.
                    {% endif %}
                </p>
            </div>
            <div class="text-center">
                <div class="text-4xl mb-3">2️⃣</div>
                <h3 class="font-semibold mb-2">Generate Shopping List</h3>
                <p class="text-sm opacity-90">
                    {% if is_agentic %}
                    AI consolidates ingredients and organizes by store section.
                    {% else %}
                    Automatically consolidate ingredients from your meal plan.
                    {% endif %}
                </p>
            </div>
            <div class="text-center">
                <div class="text-4xl mb-3">3️⃣</div>
                <h3 class="font-semibold mb-2">Start Cooking</h3>
                <p class="text-sm opacity-90">
                    {% if is_agentic %}
                    AI provides step-by-step guidance with smart suggestions.
                    {% else %}
                    Follow detailed instructions for each recipe.
                    {% endif %}
                </p>
            </div>
        </div>
    </div>

    {% if not api_key_available %}
    <!-- API Key Notice -->
    <div class="mt-8 bg-yellow-50 border-l-4 border-yellow-400 p-4">
        <div class="flex">
            <div class="flex-shrink-0">
                <i class="fas fa-exclamation-triangle text-yellow-400"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm text-yellow-700">
                    <strong>Note:</strong> Running in basic mode. Set <code class="bg-yellow-100 px-1 rounded">ANTHROPIC_API_KEY</code>
                    environment variable to enable AI-powered features.
                </p>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
